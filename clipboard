DO
BEGIN
    DECLARE user_name VARCHAR(256);

    FOR user_cursor AS
        SELECT USER_NAME
        FROM SYS.USERS
        WHERE USER_NAME NOT IN ('SYSTEM', 'SIDADM', 'USER1', 'USER2') -- Add any users you want to exclude from locking here
    DO
        EXEC 'ALTER USER ' || :user_cursor.USER_NAME || ' DISABLE USER';
    END FOR;
END;

SELECT USER_NAME, USER_DEACTIVATED
FROM SYS.USERS
ORDER BY USER_NAME;
